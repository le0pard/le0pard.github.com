---
layout: post
title: Qt + Ruby = настройка в Linux и Windows
wordpress_id: 14
wordpress_url: http://leopard.in.ua/?p=14
categories:
- Qt
- Ruby
- Windows
- Linux
tags:
- Qt
- Ruby
- Windows
- Linux
---
Сегодня напишу как настроить привязку qt и ruby в Linux и Windows.**Ruby** - интерпретируемый язык высокого уровня для быстрого и удобного объектно-ориентированного программирования. Язык обладает независимой от операционной системы реализацией многопоточности, строгой динамической типизацией, «сборщиком мусора» и многими другими возможностями. Ruby близок по особенностям синтаксиса к языкам Перл и Эйфель, по объектно-ориентированному подходу к Smalltalk. Также некоторые черты языка взяты из Python, Лисп, Dylan и CLU. [Подробнее тут](http://ru.wikipedia.org/wiki/Ruby)Trolltech **Qt** (произносится «кьют») — кросс-платформенный инструментарий разработки ПО на языке программирования C++.[Подробнее тут](http://ru.wikipedia.org/wiki/Qt)<!--more-->## Linux
Система линукс у меня будет Ubuntu, поскольку на ней работаю. Думаю под остальные будет тоже не трудно. Начнем с нее. Заходим в раздел Система-&gt;Администрирование-&gt;Менеджер пакетов Synaptic. Нам по минимуму надо поставить пакеты:- **ruby-full** - полная инсталяция руби- **rubygems** - gems для ruby- **libgemplugin-ruby** - плагин для руби- **libqt4-ruby** - библиотека ruby для работы с qtОстальные зависимости система сама подтянет (например libqt4-core, libqt4-gui и прочее)Также нам потребуется редактор для работы с Ruby. Я использую SciTE. Это дело вкуса :)После того как пакеты установлены мы можем протестировать работоспособность. Заходим в [туториал](http://www.darshancomputing.com/qt4-qtruby-tutorial/), и возьмем например [3 пример](http://www.darshancomputing.com/qt4-qtruby-tutorial/chapter_03).> require 'Qt4'app = Qt::Application.new(ARGV)window = Qt::Widget.new()window.resize(200, 120)quit = Qt::PushButton.new('Quit', window)quit.font = Qt::Font.new('Times', 18, Qt::Font::Bold)quit.setGeometry(10, 40, 180, 40)Qt::Object.connect(quit, SIGNAL('clicked()'), app, SLOT('quit()'))window.show()app.exec()Расписывать что данный код делает я не буду - там ниже в том же мануале все объясняется подробно. Должна появится форма с кнопкой выхода. Код в SciTE сохраняем под расширением rb и нажимаем F5 (переметры по-умолчанию должны отлично сработать).Наш результат![1](http://habrahabr.ru/pictures/00/00/03/36/75/picture_1.png)А вот и долгожданное окошко![2](http://habrahabr.ru/pictures/00/00/03/36/75/picture_2.png)Если оно появилось - значит все установленно удачно и вы можете начать программировать. Добавлю что в основном с установкой и настройкой под Линукс не должно возникнуть особых проблем, поскольку ставил на десятки машин и пока не наблюдал проблем с этим.## Windows
Теперь начнем с **Windows**(с ним получилось больше возьни).Нам потребуется:- [Ruby 1.8.5 Установщик в один клик](http://rubyforge.org/frs/download.php/12751/ruby185-21.exe) - название за себя говорит :)- [qtruby4-1.4.9-mswin32.gem](http://rubyforge.org/frs/download.php/26858/qtruby4-1.4.9-mswin32.gem) - библиотека qt4 для ruby- [nmake](http://download.microsoft.com/download/vc15/patch/1.52/w95/en-us/nmake15.exe) - утилита автоматической сборки для Windows (без нее qtruby не установится)Начнем с того, что установим Ruby (при установке должно также будет установится rubygems).Там же в установке будет лежать SciTe :)![555](http://habrahabr.ru/pictures/00/00/03/36/75/picture_3.png)Дальше нам надо будет запустить nmake. Он создаст два файла - NMAKE.ERR и NMAKE.EXE. Что б rubygems долго его не искал скопируйте их в %RUBY_DIR%\bin, где %RUBY_DIR% - директория куда вы установили Ruby.Дальше переходим в командную строку (Пуск-&gt;Выполнить-&gt;cmd). Проверяем что gem зарегистрирован в системе и работает - пишем gem --help. Если написало помощь - все хорошо.![5556](http://habrahabr.ru/pictures/00/00/03/36/75/picture_4.png)Теперь установим qtruby. Переходим в каталог (в консоли), куда мы скачали qtruby4-1.4.9-mswin32.gem и пишем команду gem install qtruby4-1.4.9-mswin32.gem . Установка должна завершится удачно так![](http://habrahabr.ru/pictures/00/00/03/36/75/picture_5.png)Если написало "ошибка буфера" - значит вы скачали qtruby, который не подходит для вашей системы.Сначала я думал что это все, но не тут то было. Потребовалось ещё одна библиотека - **mingwm10.dll**.![6](http://habrahabr.ru/pictures/00/00/03/36/75/picture_6.png)Скачал я её [тут](http://www.dll-files.com/dllindex/dll-files.shtml?mingwm10) и сбросил в %RUBY_DIR%\bin.Ну а теперь можем запустить наше приложение и любоваться окошком с кнопкой.![9](http://habrahabr.ru/pictures/00/00/03/36/75/picture_7.png)_Удачного Вам программирования!_
